<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Socialite Providers | Weixin</title>
    <meta name="description" content="A Collection of Providers for Laravel Socialite">
    
    
    <link rel="preload" href="/assets/css/127.styles.1caed0b7.css" as="style"><link rel="preload" href="/assets/js/app.3de1f016.js" as="script"><link rel="preload" href="/assets/js/9.68d2103c.js" as="script"><link rel="prefetch" href="/assets/js/64.05db5073.js"><link rel="prefetch" href="/assets/js/1.8cd53c2d.js"><link rel="prefetch" href="/assets/js/2.f33f977c.js"><link rel="prefetch" href="/assets/js/3.8ccf085d.js"><link rel="prefetch" href="/assets/js/4.4f2d982b.js"><link rel="prefetch" href="/assets/js/5.a55bf0d4.js"><link rel="prefetch" href="/assets/js/6.6ea5480f.js"><link rel="prefetch" href="/assets/js/7.6fb26b67.js"><link rel="prefetch" href="/assets/js/8.21bf6229.js"><link rel="prefetch" href="/assets/js/10.810c5460.js"><link rel="prefetch" href="/assets/js/11.4de65713.js"><link rel="prefetch" href="/assets/js/12.13c9634f.js"><link rel="prefetch" href="/assets/js/13.7237946a.js"><link rel="prefetch" href="/assets/js/14.3964ca48.js"><link rel="prefetch" href="/assets/js/15.79e24611.js"><link rel="prefetch" href="/assets/js/16.0e55751d.js"><link rel="prefetch" href="/assets/js/17.159ba574.js"><link rel="prefetch" href="/assets/js/18.630605cb.js"><link rel="prefetch" href="/assets/js/19.3a5c4a33.js"><link rel="prefetch" href="/assets/js/20.1b1413d8.js"><link rel="prefetch" href="/assets/js/21.b3a7533d.js"><link rel="prefetch" href="/assets/js/22.8dbfa730.js"><link rel="prefetch" href="/assets/js/23.807f3242.js"><link rel="prefetch" href="/assets/js/24.cf72d95c.js"><link rel="prefetch" href="/assets/js/25.3ffc9949.js"><link rel="prefetch" href="/assets/js/26.1d3017d7.js"><link rel="prefetch" href="/assets/js/27.9c630e0f.js"><link rel="prefetch" href="/assets/js/28.b9243e65.js"><link rel="prefetch" href="/assets/js/29.42ed48f8.js"><link rel="prefetch" href="/assets/js/30.ac5f4d94.js"><link rel="prefetch" href="/assets/js/31.c53af568.js"><link rel="prefetch" href="/assets/js/32.fef3f641.js"><link rel="prefetch" href="/assets/js/33.c1aeb181.js"><link rel="prefetch" href="/assets/js/34.a63f4f19.js"><link rel="prefetch" href="/assets/js/35.998955fb.js"><link rel="prefetch" href="/assets/js/36.9f6c8b26.js"><link rel="prefetch" href="/assets/js/37.583fcc16.js"><link rel="prefetch" href="/assets/js/38.2da90ff6.js"><link rel="prefetch" href="/assets/js/39.5a19df16.js"><link rel="prefetch" href="/assets/js/40.818532bd.js"><link rel="prefetch" href="/assets/js/41.e3e11f4e.js"><link rel="prefetch" href="/assets/js/42.a49f925a.js"><link rel="prefetch" href="/assets/js/43.667c72e0.js"><link rel="prefetch" href="/assets/js/44.9b8354ef.js"><link rel="prefetch" href="/assets/js/45.dbbc5ca8.js"><link rel="prefetch" href="/assets/js/46.02f58c86.js"><link rel="prefetch" href="/assets/js/47.068dcec8.js"><link rel="prefetch" href="/assets/js/48.4bb3769d.js"><link rel="prefetch" href="/assets/js/49.9f483278.js"><link rel="prefetch" href="/assets/js/50.303a9686.js"><link rel="prefetch" href="/assets/js/51.f9209c4f.js"><link rel="prefetch" href="/assets/js/52.f9fb4a64.js"><link rel="prefetch" href="/assets/js/53.f3492e71.js"><link rel="prefetch" href="/assets/js/54.9c21c4cf.js"><link rel="prefetch" href="/assets/js/55.08040f6c.js"><link rel="prefetch" href="/assets/js/56.ae27c9a2.js"><link rel="prefetch" href="/assets/js/57.9e13dcaa.js"><link rel="prefetch" href="/assets/js/58.43da0743.js"><link rel="prefetch" href="/assets/js/59.657412b0.js"><link rel="prefetch" href="/assets/js/60.f63dcd18.js"><link rel="prefetch" href="/assets/js/61.b119c796.js"><link rel="prefetch" href="/assets/js/62.f751a894.js"><link rel="prefetch" href="/assets/js/63.200ab628.js"><link rel="prefetch" href="/assets/js/0.35b5137f.js"><link rel="prefetch" href="/assets/js/65.681035b4.js"><link rel="prefetch" href="/assets/js/66.93e2d8f2.js"><link rel="prefetch" href="/assets/js/67.f817a9fa.js"><link rel="prefetch" href="/assets/js/68.849df6ad.js"><link rel="prefetch" href="/assets/js/69.349cfeb6.js"><link rel="prefetch" href="/assets/js/70.ec7177c1.js"><link rel="prefetch" href="/assets/js/71.6f324382.js"><link rel="prefetch" href="/assets/js/72.77d432a6.js"><link rel="prefetch" href="/assets/js/73.b376e480.js"><link rel="prefetch" href="/assets/js/74.08679726.js"><link rel="prefetch" href="/assets/js/75.8520d347.js"><link rel="prefetch" href="/assets/js/76.1ec83ca0.js"><link rel="prefetch" href="/assets/js/77.d876a0e0.js"><link rel="prefetch" href="/assets/js/78.f76ddee5.js"><link rel="prefetch" href="/assets/js/79.8076b145.js"><link rel="prefetch" href="/assets/js/80.04db8b41.js"><link rel="prefetch" href="/assets/js/81.b235c932.js"><link rel="prefetch" href="/assets/js/82.d331bc81.js"><link rel="prefetch" href="/assets/js/83.2492cf9a.js"><link rel="prefetch" href="/assets/js/84.43251939.js"><link rel="prefetch" href="/assets/js/85.4c5c50a7.js"><link rel="prefetch" href="/assets/js/86.86f8fc56.js"><link rel="prefetch" href="/assets/js/87.d9f75c48.js"><link rel="prefetch" href="/assets/js/88.f20c436c.js"><link rel="prefetch" href="/assets/js/89.a4ef156e.js"><link rel="prefetch" href="/assets/js/90.fb638dd7.js"><link rel="prefetch" href="/assets/js/91.03dd329c.js"><link rel="prefetch" href="/assets/js/92.e2292961.js"><link rel="prefetch" href="/assets/js/93.0b354e5a.js"><link rel="prefetch" href="/assets/js/94.109c1177.js"><link rel="prefetch" href="/assets/js/95.7fd6d392.js"><link rel="prefetch" href="/assets/js/96.aaf53250.js"><link rel="prefetch" href="/assets/js/97.00b07d47.js"><link rel="prefetch" href="/assets/js/98.c86e97fc.js"><link rel="prefetch" href="/assets/js/99.aee53d96.js"><link rel="prefetch" href="/assets/js/100.a060145a.js"><link rel="prefetch" href="/assets/js/101.8061e9ee.js"><link rel="prefetch" href="/assets/js/102.a52110f8.js"><link rel="prefetch" href="/assets/js/103.6bf08b4e.js"><link rel="prefetch" href="/assets/js/104.5c62294d.js"><link rel="prefetch" href="/assets/js/105.141c8a7a.js"><link rel="prefetch" href="/assets/js/106.74bb3c5b.js"><link rel="prefetch" href="/assets/js/107.0f0c1d97.js"><link rel="prefetch" href="/assets/js/108.53f15b27.js"><link rel="prefetch" href="/assets/js/109.09851577.js"><link rel="prefetch" href="/assets/js/110.dd35fbb2.js"><link rel="prefetch" href="/assets/js/111.61022b82.js"><link rel="prefetch" href="/assets/js/112.d016938a.js"><link rel="prefetch" href="/assets/js/113.8660aadb.js"><link rel="prefetch" href="/assets/js/114.d9aa6d71.js"><link rel="prefetch" href="/assets/js/115.f77984b8.js"><link rel="prefetch" href="/assets/js/116.fa99ea83.js"><link rel="prefetch" href="/assets/js/117.46abe153.js"><link rel="prefetch" href="/assets/js/118.ef1b7bf9.js"><link rel="prefetch" href="/assets/js/119.c58c546e.js"><link rel="prefetch" href="/assets/js/120.9866cbba.js"><link rel="prefetch" href="/assets/js/121.73ec5704.js"><link rel="prefetch" href="/assets/js/122.f7ef8ae0.js"><link rel="prefetch" href="/assets/js/123.98e4443e.js"><link rel="prefetch" href="/assets/js/124.7e021a07.js"><link rel="prefetch" href="/assets/js/125.cb24b2ae.js"><link rel="prefetch" href="/assets/js/126.348974cf.js">
    <link rel="stylesheet" href="/assets/css/127.styles.1caed0b7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Socialite Providers
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div><div class="nav-item"><a href="/contribute.html" class="nav-link">Contribute</a></div><div class="nav-item"><a href="https://github.com/SocialiteProviders" target="_blank" rel="noopener noreferrer" class="nav-link">GitHub</a></div><div class="nav-item"><a href="https://packagist.org/packages/socialiteproviders/" target="_blank" rel="noopener noreferrer" class="nav-link">Packagist</a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div><div class="nav-item"><a href="/contribute.html" class="nav-link">Contribute</a></div><div class="nav-item"><a href="https://github.com/SocialiteProviders" target="_blank" rel="noopener noreferrer" class="nav-link">GitHub</a></div><div class="nav-item"><a href="https://packagist.org/packages/socialiteproviders/" target="_blank" rel="noopener noreferrer" class="nav-link">Packagist</a></div><!----></nav><ul class="sidebar-links"><li><a href="/providers/23andme.html" class="sidebar-link">23andme</a></li><li><a href="/providers/37-signals.html" class="sidebar-link">37Signals</a></li><li><a href="/providers/500px.html" class="sidebar-link">500px</a></li><li><a href="/providers/acclaim.html" class="sidebar-link">Acclaim</a></li><li><a href="/providers/angel-list.html" class="sidebar-link">AngelList</a></li><li><a href="/providers/app-net.html" class="sidebar-link">App.net</a></li><li><a href="/providers/arc-gis.html" class="sidebar-link">ArcGIS</a></li><li><a href="/providers/asana.html" class="sidebar-link">Asana</a></li><li><a href="/providers/battle-net.html" class="sidebar-link">Battle.net</a></li><li><a href="/providers/bit-ly.html" class="sidebar-link">Bit.ly</a></li><li><a href="/providers/box.html" class="sidebar-link">Box</a></li><li><a href="/providers/buffer.html" class="sidebar-link">Buffer</a></li><li><a href="/providers/campaign-monitor.html" class="sidebar-link">CampaignMonitor</a></li><li><a href="/providers/cheddar.html" class="sidebar-link">Cheddar</a></li><li><a href="/providers/coinbase.html" class="sidebar-link">Coinbase</a></li><li><a href="/providers/constant-contact.html" class="sidebar-link">ConstantContact</a></li><li><a href="/providers/coursera.html" class="sidebar-link">Coursera</a></li><li><a href="/providers/dailymile.html" class="sidebar-link">Dailymile</a></li><li><a href="/providers/dailymotion.html" class="sidebar-link">Dailymotion</a></li><li><a href="/providers/dataporten.html" class="sidebar-link">Dataporten</a></li><li><a href="/providers/deezer.html" class="sidebar-link">Deezer</a></li><li><a href="/providers/deviant-art.html" class="sidebar-link">deviantART</a></li><li><a href="/providers/digital-ocean.html" class="sidebar-link">DigitalOcean</a></li><li><a href="/providers/discogs.html" class="sidebar-link">Discogs</a></li><li><a href="/providers/discord.html" class="sidebar-link">Discord</a></li><li><a href="/providers/disqus.html" class="sidebar-link">Disqus</a></li><li><a href="/providers/douban.html" class="sidebar-link">Douban</a></li><li><a href="/providers/dribbble.html" class="sidebar-link">Dribbble</a></li><li><a href="/providers/dropbox.html" class="sidebar-link">Dropbox</a></li><li><a href="/providers/envato.html" class="sidebar-link">Envato</a></li><li><a href="/providers/etsy.html" class="sidebar-link">Etsy</a></li><li><a href="/providers/eventbrite.html" class="sidebar-link">Eventbrite</a></li><li><a href="/providers/everyplay.html" class="sidebar-link">Everyplay</a></li><li><a href="/providers/eye-em.html" class="sidebar-link">EyeEm</a></li><li><a href="/providers/fitbit.html" class="sidebar-link">Fitbit</a></li><li><a href="/providers/flickr.html" class="sidebar-link">Flickr</a></li><li><a href="/providers/foursquare.html" class="sidebar-link">Foursquare</a></li><li><a href="/providers/game-wisp.html" class="sidebar-link">GameWisp</a></li><li><a href="/providers/git-lab.html" class="sidebar-link">GitLab</a></li><li><a href="/providers/goodreads.html" class="sidebar-link">Goodreads</a></li><li><a href="/providers/google.html" class="sidebar-link">Google+</a></li><li><a href="/providers/harvest.html" class="sidebar-link">Harvest</a></li><li><a href="/providers/heroku.html" class="sidebar-link">Heroku</a></li><li><a href="/providers/hitbox.html" class="sidebar-link">Hitbox</a></li><li><a href="/providers/hub-spot.html" class="sidebar-link">HubSpot</a></li><li><a href="/providers/human-api.html" class="sidebar-link">Human API</a></li><li><a href="/providers/imgur.html" class="sidebar-link">Imgur</a></li><li><a href="/providers/instagram.html" class="sidebar-link">Instagram</a></li><li><a href="/providers/jawbone.html" class="sidebar-link">Jawbone</a></li><li><a href="/providers/jira.html" class="sidebar-link">Jira</a></li><li><a href="/providers/kakao.html" class="sidebar-link">Kakao</a></li><li><a href="/providers/line.html" class="sidebar-link">LINE</a></li><li><a href="/providers/linked-in.html" class="sidebar-link">LinkedIn</a></li><li><a href="/providers/mail-chimp.html" class="sidebar-link">MailChimp</a></li><li><a href="/providers/medium.html" class="sidebar-link">Medium</a></li><li><a href="/providers/meetup.html" class="sidebar-link">Meetup</a></li><li><a href="/providers/microsoft-azure.html" class="sidebar-link">Microsoft Azure</a></li><li><a href="/providers/microsoft-graph.html" class="sidebar-link">Microsoft Graph</a></li><li><a href="/providers/microsoft-live.html" class="sidebar-link">Microsoft Live</a></li><li><a href="/providers/mixcloud.html" class="sidebar-link">Mixcloud</a></li><li><a href="/providers/mixer.html" class="sidebar-link">Mixer</a></li><li><a href="/providers/moves.html" class="sidebar-link">Moves</a></li><li><a href="/providers/naver.html" class="sidebar-link">Naver</a></li><li><a href="/providers/okta.html" class="sidebar-link">Okta</a></li><li><a href="/providers/patreon.html" class="sidebar-link">Patreon</a></li><li><a href="/providers/pay-pal.html" class="sidebar-link">PayPal</a></li><li><a href="/providers/pay-pal-sandbox.html" class="sidebar-link">PayPal Sandbox</a></li><li><a href="/providers/paymill.html" class="sidebar-link">Paymill</a></li><li><a href="/providers/pinterest.html" class="sidebar-link">Pinterest</a></li><li><a href="/providers/podio.html" class="sidebar-link">Podio</a></li><li><a href="/providers/project-v.html" class="sidebar-link">ProjectV</a></li><li><a href="/providers/pushbullet.html" class="sidebar-link">Pushbullet</a></li><li><a href="/providers/qq.html" class="sidebar-link">QQ</a></li><li><a href="/providers/quick-books.html" class="sidebar-link">QuickBooks</a></li><li><a href="/providers/rdio.html" class="sidebar-link">Rdio</a></li><li><a href="/providers/readability.html" class="sidebar-link">Readability</a></li><li><a href="/providers/red-booth.html" class="sidebar-link">RedBooth</a></li><li><a href="/providers/reddit.html" class="sidebar-link">Reddit</a></li><li><a href="/providers/run-keeper.html" class="sidebar-link">RunKeeper</a></li><li><a href="/providers/sales-force.html" class="sidebar-link">SalesForce</a></li><li><a href="/providers/sci-starter.html" class="sidebar-link">SciStarter</a></li><li><a href="/providers/share-point.html" class="sidebar-link">SharePoint</a></li><li><a href="/providers/shopify.html" class="sidebar-link">Shopify</a></li><li><a href="/providers/slack.html" class="sidebar-link">Slack</a></li><li><a href="/providers/smashcast.html" class="sidebar-link">Smashcast</a></li><li><a href="/providers/sound-cloud.html" class="sidebar-link">SoundCloud</a></li><li><a href="/providers/spotify.html" class="sidebar-link">Spotify</a></li><li><a href="/providers/stack-exchange.html" class="sidebar-link">StackExchange</a></li><li><a href="/providers/steam.html" class="sidebar-link">Steam</a></li><li><a href="/providers/stock-twits.html" class="sidebar-link">StockTwits</a></li><li><a href="/providers/strava.html" class="sidebar-link">Strava</a></li><li><a href="/providers/stripe.html" class="sidebar-link">Stripe</a></li><li><a href="/providers/trakt.html" class="sidebar-link">Trakt</a></li><li><a href="/providers/trello.html" class="sidebar-link">Trello</a></li><li><a href="/providers/tumblr.html" class="sidebar-link">Tumblr</a></li><li><a href="/providers/tv-show-time.html" class="sidebar-link">TVShowTime</a></li><li><a href="/providers/twitch.html" class="sidebar-link">Twitch</a></li><li><a href="/providers/twitter.html" class="sidebar-link">Twitter</a></li><li><a href="/providers/uber.html" class="sidebar-link">Uber</a></li><li><a href="/providers/ufutx.html" class="sidebar-link">Ufutx</a></li><li><a href="/providers/unsplash.html" class="sidebar-link">Unsplash</a></li><li><a href="/providers/untappd.html" class="sidebar-link">Untappd</a></li><li><a href="/providers/v-kontakte.html" class="sidebar-link">VKontakte</a></li><li><a href="/providers/venmo.html" class="sidebar-link">Venmo</a></li><li><a href="/providers/version-one.html" class="sidebar-link">VersionOne</a></li><li><a href="/providers/vimeo.html" class="sidebar-link">Vimeo</a></li><li><a href="/providers/weibo.html" class="sidebar-link">Weibo</a></li><li><a href="/providers/weixin.html" class="active sidebar-link">Weixin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/providers/weixin.html#_1-installation" class="sidebar-link">1. Installation</a></li><li class="sidebar-sub-header"><a href="/providers/weixin.html#_2-service-provider" class="sidebar-link">2. Service Provider</a></li><li class="sidebar-sub-header"><a href="/providers/weixin.html#_3-event-listener" class="sidebar-link">3. Event Listener</a></li><li class="sidebar-sub-header"><a href="/providers/weixin.html#_4-configuration-setup" class="sidebar-link">4. Configuration setup</a></li><li class="sidebar-sub-header"><a href="/providers/weixin.html#_5-usage" class="sidebar-link">5. Usage</a></li></ul></li><li><a href="/providers/weixin-web.html" class="sidebar-link">Weixin Web</a></li><li><a href="/providers/word-press.html" class="sidebar-link">WordPress</a></li><li><a href="/providers/x-rel.html" class="sidebar-link">xREL</a></li><li><a href="/providers/xing.html" class="sidebar-link">Xing</a></li><li><a href="/providers/yahoo.html" class="sidebar-link">Yahoo</a></li><li><a href="/providers/yammer.html" class="sidebar-link">Yammer</a></li><li><a href="/providers/yandex.html" class="sidebar-link">Yandex</a></li><li><a href="/providers/yiban.html" class="sidebar-link">Yiban</a></li><li><a href="/providers/you-tube.html" class="sidebar-link">YouTube</a></li><li><a href="/providers/zendesk.html" class="sidebar-link">Zendesk</a></li></ul></div><div class="page"><div class="content"><h2 id="_1-installation"><a href="#_1-installation" aria-hidden="true" class="header-anchor">#</a> 1. Installation</h2><pre class="language-bash"><code>// This assumes that you have composer installed globally
composer require socialiteproviders/weixin
</code></pre><h2 id="_2-service-provider"><a href="#_2-service-provider" aria-hidden="true" class="header-anchor">#</a> 2. Service Provider</h2><ul><li><p>Remove <code>Laravel\Socialite\SocialiteServiceProvider</code> from your <code>providers[]</code> array in <code>config\app.php</code> if you have added it already.</p></li><li><p>Add <code>\SocialiteProviders\Manager\ServiceProvider::class</code> to your <code>providers[]</code> array in <code>config\app.php</code>.</p></li></ul><p>For example:</p><pre class="language-php"><code><span class="token single-quoted-string string">'providers'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
    <span class="token comment">// a whole bunch of providers</span>
    <span class="token comment">// remove 'Laravel\Socialite\SocialiteServiceProvider',</span>
    \<span class="token package">SocialiteProviders<span class="token punctuation">\</span>Manager<span class="token punctuation">\</span>ServiceProvider</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token comment">// add</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><ul><li>Note: If you would like to use the Socialite Facade, you need to <a href="https://github.com/laravel/socialite" target="_blank" rel="noopener noreferrer">install it.</a></li></ul><h2 id="_3-event-listener"><a href="#_3-event-listener" aria-hidden="true" class="header-anchor">#</a> 3. Event Listener</h2><ul><li><p>Add <code>SocialiteProviders\Manager\SocialiteWasCalled</code> event to your <code>listen[]</code> array  in <code>app/Providers/EventServiceProvider</code>.</p></li><li><p>Add your listeners (i.e. the ones from the providers) to the <code>SocialiteProviders\Manager\SocialiteWasCalled[]</code> that you just created.</p></li><li><p>The listener that you add for this provider is <code>'SocialiteProviders\\Weixin\\WeixinExtendSocialite@handle',</code>.</p></li><li><p>Note: You do not need to add anything for the built-in socialite providers unless you override them with your own providers.</p></li></ul><p>For example:</p><pre class="language-php"><code><span class="token comment">/**
 * The event handler mappings for the application.
 *
 * @var array
 */</span>
<span class="token keyword">protected</span> <span class="token variable">$listen</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    \<span class="token package">SocialiteProviders<span class="token punctuation">\</span>Manager<span class="token punctuation">\</span>SocialiteWasCalled</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token comment">// add your listeners (aka providers) here</span>
        <span class="token single-quoted-string string">'SocialiteProviders\\Weixin\\WeixinExtendSocialite@handle'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><h4 id="reference"><a href="#reference" aria-hidden="true" class="header-anchor">#</a> Reference</h4><ul><li><a href="http://laravel.com/docs/5.0/events" target="_blank" rel="noopener noreferrer">Laravel docs about events</a></li><li><a href="https://laracasts.com/lessons/laravel-5-events" target="_blank" rel="noopener noreferrer">Laracasts video on events in Laravel 5</a></li></ul><h2 id="_4-configuration-setup"><a href="#_4-configuration-setup" aria-hidden="true" class="header-anchor">#</a> 4. Configuration setup</h2><p>You will need to add an entry to the services configuration file so that after config files are cached for usage in production environment (Laravel command <code>artisan config:cache</code>) all config is still available.</p><h4 id="add-to-config-services-php"><a href="#add-to-config-services-php" aria-hidden="true" class="header-anchor">#</a> Add to <code>config/services.php</code>.</h4><pre class="language-php"><code><span class="token single-quoted-string string">'weixin'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'client_id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'WEIXIN_KEY'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'client_secret'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'WEIXIN_SECRET'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'redirect'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'WEIXIN_REDIRECT_URI'</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><h2 id="_5-usage"><a href="#_5-usage" aria-hidden="true" class="header-anchor">#</a> 5. Usage</h2><ul><li><p><a href="http://laravel.com/docs/master/configuration" target="_blank" rel="noopener noreferrer">Laravel docs on configuration</a></p></li><li><p>You should now be able to use it like you would regularly use Socialite (assuming you have the facade installed):</p></li></ul><pre class="language-php"><code><span class="token keyword">return</span> Socialite<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Weixin'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="lumen-support"><a href="#lumen-support" aria-hidden="true" class="header-anchor">#</a> Lumen Support</h3><p>You can use Socialite providers with Lumen.  Just make sure that you have facade support turned on and that you follow the setup directions properly.</p><p><strong>Note:</strong> If you are using this with Lumen, all providers will automatically be stateless since <strong>Lumen</strong> does not keep track of state.</p><p>Also, configs cannot be parsed from the <code>services[]</code> in Lumen.  You can only set the values in the <code>.env</code> file as shown exactly in this document.  If needed, you can
also override a config (shown below).</p><h3 id="stateless"><a href="#stateless" aria-hidden="true" class="header-anchor">#</a> Stateless</h3><ul><li>You can set whether or not you want to use the provider as stateless.  Remember that the OAuth provider (Twitter, Tumblr, etc) must support whatever option you choose.</li></ul><p><strong>Note:</strong> If you are using this with Lumen, all providers will automatically be stateless since <strong>Lumen</strong> does not keep track of state.</p><pre class="language-php"><code><span class="token comment">// to turn off stateless</span>
<span class="token keyword">return</span> Socialite<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Weixin'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">stateless</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// to use stateless</span>
<span class="token keyword">return</span> Socialite<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Weixin'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">stateless</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="overriding-a-config"><a href="#overriding-a-config" aria-hidden="true" class="header-anchor">#</a> Overriding a config</h3><p>If you need to override the provider's environment or config variables dynamically anywhere in your application, you may use the following:</p><pre class="language-php"><code><span class="token variable">$clientId</span> <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;secret&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$clientSecret</span> <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;secret&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$redirectUrl</span> <span class="token operator">=</span> <span class="token double-quoted-string string">&quot;http://yourdomain.com/api/redirect&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$additionalProviderConfig</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token single-quoted-string string">'site'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'meta.stackoverflow.com'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$config</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token punctuation">\</span>SocialiteProviders<span class="token punctuation">\</span>Manager<span class="token punctuation">\</span>Config</span><span class="token punctuation">(</span><span class="token variable">$clientId</span><span class="token punctuation">,</span> <span class="token variable">$clientSecret</span><span class="token punctuation">,</span> <span class="token variable">$redirectUrl</span><span class="token punctuation">,</span> <span class="token variable">$additionalProviderConfig</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> Socialite<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Weixin'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setConfig</span><span class="token punctuation">(</span><span class="token variable">$config</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="retrieving-the-access-token-response-body"><a href="#retrieving-the-access-token-response-body" aria-hidden="true" class="header-anchor">#</a> Retrieving the Access Token Response Body</h3><p>Laravel Socialite by default only allows access to the <code>access_token</code>.  Which can be accessed
via the <code>\Laravel\Socialite\User-&gt;token</code> public property.  Sometimes you need access to the whole response body which
may contain items such as a <code>refresh_token</code>.</p><p>You can get the access token response body, after you called the <code>user()</code> method in Socialite, by accessing the property <code>$user-&gt;accessTokenResponseBody</code>;</p><pre class="language-php"><code><span class="token variable">$user</span> <span class="token operator">=</span> Socialite<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">driver</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Weixin'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$accessTokenResponseBody</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">accessTokenResponseBody</span><span class="token punctuation">;</span>
</code></pre><h4 id="reference-2"><a href="#reference-2" aria-hidden="true" class="header-anchor">#</a> Reference</h4><ul><li><a href="https://github.com/laravel/socialite" target="_blank" rel="noopener noreferrer">Laravel Socialite Docs</a></li><li><a href="https://laracasts.com/series/whats-new-in-laravel-5/episodes/9" target="_blank" rel="noopener noreferrer">Laracasts Socialite video</a></li></ul></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/providers/weibo.html" class="prev">
          Weibo
        </a></span><span class="next"><a href="/providers/weixin-web.html">
          Weixin Web
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/9.68d2103c.js" defer></script><script src="/assets/js/app.3de1f016.js" defer></script>
  </body>
</html>
